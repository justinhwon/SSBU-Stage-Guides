{% extends "guide/base.html" %}
{% load static %}

{% block content %}

<div class="text-center">
<h1 style="font-weight: bold;">{{ character.name }}</h1>
</div>

<div class="text-center">
<img src="{% static character.image_link %}" class="img-fluid" alt="character art" style="height:300px;">
</div>

<div class="text-center">
<a href="{% url 'guide:vote' character.name %}" class="btn btn-primary">Vote on Stages</a>
</div>

{% if votes %}
    <p class="text-center">Total votes: {{ num_votes }}</p>
    <!-- for debugging
    <p>{{votes}}</p>
     -->
    
    <h2 class="text-center" style="font-weight: bold; font-size: 35px;">Stage Rankings</h2>
    <div class="container-fluid">
        <div class="row">
            {% for vote in votes %} 
                <div class="col-6 col-md-3">
                    <h4>
                        <b>#{{forloop.counter}}: {{vote.0}} </b><br>
                        <img src="{% static vote.2 %}" alt="stage image"> <br>
                        Score: {{vote.1|floatformat:2}} {% if vote.1 is None %} No votes. {% endif %}
                    </h4>
                </div>
            {% endfor %}
        </div>
    </div>

{% else %}
<p class="text-center">There are no votes yet. Please contribute if you can!</p>
{% endif %}

{% endblock %}

{% block metadata %}
<title>{{character.name}}</title>
<meta name="description" content="Stage rankings and advice for {{character.name}}">
<meta name="keywords" content="Super Smash Bros. Ultimate, Super Smash Bros. Ultimate stage advice, {{character.name}}, {{character.name}} stage rankings, {{character.name}} best stages, {{character.name}} stages, ssbu, ssbu stage guides, smash ultimate stage guides, Smash Bros. Ultimate stage guides, Smash Bros. Ultimate stage guide, Super Smash Bros. Ultimate matchup, stage rankings, smash ultimate, smash ultimate stages, best stages against, stage bans, worst stages against, stage ban, competitive smash, best stages, worst stages">
<meta name="robots" content="index, follow">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="language" content="English">
{% endblock %}